knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
df <- read_csv("african_crises.csv")
View(df)
library(readr)
african_crises <- read_csv("african_crises.csv",
col_types = cols(case = col_integer(),
cc3 = col_character(), country = col_character(),
year = col_date(format = "%Y"), systemic_crisis = col_integer(),
domestic_debt_in_default = col_integer(),
sovereign_external_debt_default = col_integer(),
gdp_weighted_default = col_integer(),
independence = col_integer(), currency_crises = col_integer(),
inflation_crises = col_integer(),
banking_crisis = col_character()))
View(african_crises)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readr)
african_crises <- read_csv("african_crises.csv",
col_types = cols(
case = col_integer(),
cc3 = col_character(),
country = col_character(),
year = col_date(format = "%Y"),
systemic_crisis = col_integer(),
domestic_debt_in_default = col_integer(),
sovereign_external_debt_default = col_integer(),
gdp_weighted_default = col_integer(),
independence = col_integer(),
currency_crises = col_integer(),
inflation_crises = col_integer(),
banking_crisis = col_character()))
View(african_crises)
problems()
problems(african_crises)
View(problems(african_crises))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readr)
african_crises <- read_csv("african_crises.csv",
col_types = cols(
case = col_integer(),
cc3 = col_character(),
country = col_character(),
year = col_date(format = "%Y"),
systemic_crisis = col_integer(),
exch_usd = col_double(),
domestic_debt_in_default = col_integer(),
sovereign_external_debt_default = col_integer(),
gdp_weighted_default = col_double(),
inflation_annual_cpi = col_double(),
independence = col_integer(),
currency_crises = col_integer(),
inflation_crises = col_integer(),
banking_crisis = col_character()))
View(african_crises)
install.packages(c("cpp11", "digest", "fs", "glue", "memoise", "readr", "stringi", "vroom", "withr", "xml2"))
unlink("Final_cache", recursive = TRUE)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readr)
african_crises <- read_csv("african_crises.csv",
col_types = cols(
case = col_factor(ordered = TRUE),
cc3 = col_factor(ordered = TRUE),
country = col_factor(ordered = TRUE),
year = col_date(format = "%Y"),
exch_usd = col_double(),
gdp_weighted_default = col_double(),
inflation_annual_cpi = col_double(),
systemic_crisis = col_integer(),
domestic_debt_in_default = col_integer(),
sovereign_external_debt_default = col_integer(),
independence = col_integer(),
currency_crises = col_integer(),
inflation_crises = col_integer(),
banking_crisis = col_character()
)
View(african_crises)
anyNA(african_crises) # FALSE
ac <- mutate(african_crises, banking_crisis = as.integer(banking_crisis == "crisis"))
str(ac)
ac
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readr)
african_crises <- read_csv("african_crises.csv",
col_types = cols(
case = col_factor(ordered = TRUE),
cc3 = col_factor(ordered = TRUE),
country = col_factor(ordered = TRUE),
year = col_date(format = "%Y"),
exch_usd = col_double(),
gdp_weighted_default = col_double(),
inflation_annual_cpi = col_double(),
systemic_crisis = col_integer(),
domestic_debt_in_default = col_integer(),
sovereign_external_debt_default = col_integer(),
independence = col_integer(),
currency_crises = col_integer(),
inflation_crises = col_integer(),
banking_crisis = col_character()
)
anyNA(african_crises) # FALSE
ac <- mutate(african_crises, banking_crisis = as.integer(banking_crisis == "crisis"))
str(ac)
ac
ac$year[1]
parse_date(ac$year[1], format = "Y")
parse_date(ac$year[1], format = "%Y")
label_date(format = "%Y")
parse_date("1897", format = "%Y")
parse_date("1897", format = "%y")
date_format(format = "%Y")
library(scales)
label_date(format = "%Y")
x <- label_date(format = "%Y")
x("1898")
ggplot(data = ac, mapping = aes(x = case)) +
geom_bar()
ggplot(data = ac, mapping = aes(x = case)) +
geom_bar()
geom_bar(mapping = aes(x = cc3))
ggplot(data = ac) +
geom_bar(mapping = aes(x = case)) +
geom_bar(mapping = aes(x = cc3))
plt <- ggplot(data = ac)
plt + geom_bar(mapping = aes(x = case))
plt + geom_bar(mapping = aes(x = cc3))
plt <- ggplot(data = ac)
plt + geom_bar(mapping = aes(x = case))
plt + geom_bar(mapping = aes(x = cc3))
plt + geom_bar(mapping = aes(x = country))
unique(ac$case:country)
unique(ac$case:ac$country)
unique(ac[case:country])
unique(ac[ , case:country])
unique(ac[ , 1:3])
factors <- unique(ac[ , 1:3])
(factors <- unique(ac[ , 1:3]) )
plt <- ggplot(data = ac)
plt + geom_bar(mapping = aes(x = case))
plt + geom_bar(mapping = aes(x = cc3))
plt + geom_bar(mapping = aes(x = country))
(factors <- unique(ac[ , 1:3]) )
library(modelr)
factor(ac$case)
levels(ac$case)
plt + geom_bar(mapping = aes(x = country)) +
theme( axis.text.x = levels(cc3) )
plt <- ggplot(data = ac)
plt + geom_bar(mapping = aes(x = country)) +
theme( axis.text.x = levels(cc3) )
plt + geom_bar(mapping = aes(x = country)) +
theme( axis.text.x = levels(ac$cc3) )
plt + geom_bar(mapping = aes(x = country)) + xlab(cc3)
plt + geom_bar(mapping = aes(x = country)) + xlab(levels(ac$cc3)
plt + geom_bar(mapping = aes(x = country)) + xlab(levels(ac$cc3))
plt + geom_bar(mapping = aes(x = country)) +
theme(axis.text.x=element_blank())
plt + geom_bar(mapping = aes(x = country)) +
theme(axis.text.x=element_blank())
plt + geom_scatter(mapping = aes(x = year, y = independence), color = country)
plt + geom_point(mapping = aes(x = year, y = independence), color = country)
plt
plt + geom_point(mapping = aes(x = year, y = independence), color = data$country)
plt + geom_point(mapping = aes(x = year, y = independence), color = ac$country)
plt + geom_point(mapping = aes(x = year, y = independence, color = country))
plt + geom_bar(mapping = aes(x = case))
plt + geom_bar(mapping = aes(x = cc3))
plt +
geom_point(mapping = aes(x = year, y = independence, color = country))
ac %> filter(independence == 0) %> group_by(country) %> max()
ac %>% filter(independence == 0) %>%  group_by(country) %>%  max()
ac %>% filter(independence == 0) %>%  group_by(country)
ac %>% filter(independence == 0) %>%  group_by(country) %>% summarize(max(year))
ac %>% filter(independence == 0) %>%  group_by(country) %>% summarize(max(year)) %>% sort()
ac %>% filter(independence == 0) %>%  group_by(country) %>% summarize(max(year)) %>% sort(year)
ac %>% filter(independence == 0) %>%  group_by(country) %>% summarize(max(year)
ac %>% filter(independence == 0) %>%  group_by(country) %>% summarize(max(year))
ac %>% filter(independence == 0) %>%  group_by(country)
ac %>% filter(independence == 0) %>%  group_by(country) %>% summarize(max(year))
ac %>% filter(independence == 0) %>%  group_by(country) %>% summarize(max(year)) %>% sort(max(year))
ac %>% filter(independence == 0) %>%  group_by(country) %>% summarize(max(year)) %>% sort("2")
ac %>% filter(independence == 0) %>%  group_by(country) %>% summarize(max(year), sort = TRUE)
ac %>% filter(independence == 0) %>%  group_by(country) %>% summarize(max(year), sort = year)
ac %>% filter(independence == 0) %>%  group_by(country) %>% summarize(max(year), sort())
ac %>% filter(independence == 0) %>%  group_by(country) %>% summarize(max(year)) %>% order()
ac %>% filter(independence == 0) %>%  group_by(country) %>% summarize(max(year)) %>% order('max(year)')
ac %>% filter(independence == 0) %>%  group_by(country) %>% summarize(max(year)) %>% order(2)
ac %>% filter(independence == 0) %>%  group_by(country) %>% summarize(max(year)) %>% order
ac %>% filter(independence == 0) %>%  group_by(country) %>% summarize(max(year))
ac %>% filter(independence == 1) %>%  group_by(country) %>% summarize(indep_year = min(year)) %>% arrange(indep_year)
ac %>% filter(independence == 1) %>%  group_by(country) %>% summarize(indep_year = min(year), count = count) %>% arrange(indep_year)
ac %>% filter(independence == 1) %>%  group_by(country) %>% summarize(indep_year = min(year), count = count()) %>% arrange(indep_year)
ac %>% filter(independence == 1) %>%  group_by(country) %>% summarize(indep_year = min(year), count = n()) %>% arrange(indep_year)
ac %>% filter(independence == 1) %>%  group_by(country) %>% summarize(indep_year = min(year), count = n(), prop_data = count/sum(count)) %>% arrange(indep_year)
ac %>% filter(independence == 1) %>%  group_by(country) %>% summarize(indep_year = min(year), count = n(), prop_data = (count/sum(count))) %>% arrange(indep_year)
(indep_table <- ac %>% filter(independence == 1) %>%  group_by(country) %>% summarize(indep_year = min(year), count = n()) %>% arrange(indep_year)
)
sum(indep_table$count)
indep_table <- ac %>%
filter(independence == 1) %>%
group_by(country) %>%
summarize(indep_year = min(year), count = n() ) %>%
arrange(indep_year) %>%
mutate(prop = count/sum(count))
(indep_table <- ac %>%
filter(independence == 1) %>%
group_by(country) %>%
summarize(indep_year = min(year), count = n() ) %>%
arrange(indep_year) %>%
mutate(prop = count/sum(count))
)
